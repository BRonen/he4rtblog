---
title: Desconstruindo o useEffect usando Javascript
description: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus pellentesque malesuada interdum.
author: MC Poze do Rodo
publishedAt: 15/02/2023
tags: ['React', '!He4rt4Noobs', 'Hooks']
---

# Desconstruindo o useEffect usando Javascript

Se você quiser simular o comportamento do useEffect apenas com JavaScript puro, pode usar uma função de efeito que é chamada imediatamente após o carregamento inicial da página e, em seguida, usar addEventListener para chamá-la novamente quando as dependências são alteradas.

```JavaScript

    let myProp = 'initial value';

    function myEffect() {
      // side effect logic
    }

    myEffect();

    document.addEventListener('myPropChanged', (event) => {
      myProp = event.detail;
      myEffect();
    });

    document.dispatchEvent(new CustomEvent('myPropChanged', { detail: 'new value' }));

```

Neste exemplo, a função myEffect é chamada imediatamente após o carregamento inicial da página. Em seguida, um evento personalizado 'myPropChanged' é adicionado ao document, e quando este evento é disparado, o valor de myProp é atualizado e a função myEffect é chamada novamente.

É importante notar que este exemplo é apenas uma simulação rudimentar do useEffect e não inclui as funcionalidades avançadas, como o gerenciamento de limpeza e o gerenciamento de erros, que são fornecidos pelo React.

| Task           | Time required | Assigned to | Current Status | Finished                                          |
| -------------- | ------------- | ----------- | -------------- | ------------------------------------------------- |
| Calendar Cache | > 5 hours     |             | in progress    | - [x] ok?                                         |
| Object Cache   | > 5 hours     |             | in progress    | [x] item1<br/>[ ] item2                           |
| Object Cache   | > 5 hours     |             | in progress    | <ul><li>- [x] item1</li><li>- [ ] item2</li></ul> |
| Object Cache   | > 5 hours     |             | in progress    | <ul><li>[x] item1</li><li>[ ] item2</li></ul>     |

- [x] works
- [x] works too
